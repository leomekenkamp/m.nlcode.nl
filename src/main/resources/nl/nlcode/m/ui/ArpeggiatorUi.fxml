<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.Spinner?>
<?import javafx.scene.control.SpinnerValueFactory?>
<?import javafx.scene.control.SpinnerValueFactory.IntegerSpinnerValueFactory?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.ToggleGroup?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.control.TextField?>
<?import nl.nlcode.m.ui.ArpeggiatorUi?>
<?import nl.nlcode.m.ui.EnumChoiceBox?>
<?import nl.nlcode.m.ui.Field?>
<?import nl.nlcode.m.ui.FieldVBox?>

<fx:root
    xmlns="http://javafx.com/javafx" 
    xmlns:fx="http://javafx.com/fxml/1"
    type="ArpeggiatorUi" 
    styleClass="arpeggiator"
>
    <instrument>
        <FieldVBox>                
            <Field labelText="%channel">
                <Spinner fx:id="channel" editable="true">
                    <valueFactory>
                        <SpinnerValueFactory.IntegerSpinnerValueFactory min="0" max="15"/>
                    </valueFactory>
                </Spinner>
            </Field>
            <Field labelText="%reach">
                <children>
                    <HBox>
                        <Field labelText="%octaveDown">
                            <Spinner fx:id="octaveDown" editable="true">
                                <valueFactory>
                                    <SpinnerValueFactory.IntegerSpinnerValueFactory min="0" max="11"/>
                                </valueFactory>
                            </Spinner>
                        </Field>
                        <Field labelText="%octaveUp">
                            <Spinner fx:id="octaveUp" editable="true">
                                <valueFactory>
                                    <SpinnerValueFactory.IntegerSpinnerValueFactory min="0" max="11"/>
                                </valueFactory>
                            </Spinner>
                        </Field>
                    </HBox>
                </children>
            </Field>
            <Field labelText="%length">
                <HBox>
                    <Spinner fx:id="length">
                        <valueFactory>
                            <SpinnerValueFactory.IntegerSpinnerValueFactory min="1" max="384"/>
                        </valueFactory>
                    </Spinner>
                    <Label text="%ticksPer" />
                    <EnumChoiceBox enumClass="nl.nlcode.m.engine.ArpeggiatorLengthPer" fx:id="lengthPer"/>
                </HBox>
            </Field>
            <Field labelText="%velocity">
                <children>
                    <HBox>
                        <Field labelText="%attack">
                            <Spinner fx:id="overrideAttackVelocity">
                                <valueFactory>
                                    <SpinnerValueFactory.IntegerSpinnerValueFactory min="0" max="127"/> <!-- FIXME implement NONE, use keydown velocity -->
                                </valueFactory>
                            </Spinner>
                        </Field>
                        <Field labelText="%release">
                            <Spinner fx:id="releaseVelocity">
                                <valueFactory>
                                    <SpinnerValueFactory.IntegerSpinnerValueFactory min="0" max="127"/>
                                </valueFactory>
                            </Spinner>
                        </Field>
                    </HBox>
                </children>
            </Field>
        </FieldVBox>
    </instrument>
</fx:root>
